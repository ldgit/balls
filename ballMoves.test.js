import { describe, it, expect } from 'vitest'
import ballMoves from './ballMoves';

describe('ballMoves', () => {
  it ('should handle cases where no moves required', () => {
    expect(ballMoves('.b')).toEqual(0);
    expect(ballMoves('b.')).toEqual(0);
    expect(ballMoves('.b...')).toEqual(0);
    expect(ballMoves('b.b.')).toEqual(0);
    expect(ballMoves('b.b..')).toEqual(0);
    expect(ballMoves('.b.b.b...')).toEqual(0);
    expect(ballMoves('.............b.b.b')).toEqual(0);
    expect(ballMoves('..b.b')).toEqual(0);
  });

  it('should handle cases where no moves required', () => {
    expect(ballMoves('.b.b.')).toEqual(0);
  });

  it ('should handle impossible cases', () => {
    expect(ballMoves('bb')).toEqual(-1);
    expect(ballMoves('bb.b')).toEqual(-1);
    expect(ballMoves('bb.bbbb')).toEqual(-1);
    expect(ballMoves('.bbb')).toEqual(-1);
    expect(ballMoves('b.bbb.b.')).toEqual(-1);
    expect(ballMoves('.bbb.b.bb')).toEqual(-1);
  });

  it('should handle one move cases', () => {
    expect(ballMoves('.bb')).toEqual(1);
    expect(ballMoves('bb.')).toEqual(1);
    expect(ballMoves('bb.b.')).toEqual(2);
  })

  it('should handle two move cases', () => {
    expect(ballMoves('.b.bb')).toEqual(2);
  })

  describe('cases with lots of empty buckets', () => {
    it('.b..b', () => {
      expect(ballMoves('.b..b')).toEqual(1);
    });

    it('.b............b', () => {
      expect(ballMoves('.b............b')).toEqual(1);
    });

    it('......b.b.....b', () => {
      expect(ballMoves('......b.b.....b')).toEqual(1);
      // Above solved:  ......b.b.b....
    })

    it('....b...b.....b', () => {
      expect(ballMoves('....b...b.....b')).toEqual(1);
      // Above solved:  ....b.b.b......
    })

    it('....b.....b.......bb', () => {
      expect(ballMoves('....b.....b.......bb')).toEqual(2);
      // Above solved:  ....b.b.b.b.........
    })

    it('b......b.....b', () => {
      expect(ballMoves('.b......b.....b')).toEqual(2);
      // Above solved:  .b.b.b.........
    })

    it('.b......b.b..b...b', () => {
      expect(ballMoves('.b......b.b..b...b')).toEqual(3);
      // Above solved:  .........b.b.b.b.b
      // Above solved:  ......b.b.b.b.b...
    })

    it('.b...........b...b', () => {
      expect(ballMoves('.b...........b...b')).toEqual(1);
      // Above solved:  .............b.b.b
    })

    it('.bbb.....b.......b', () => {
      expect(ballMoves('.bbb.....b.......b')).toEqual(2);
      // Above solved:  .b.b.b.b.b........
    })

    it('.b.b.....b......bb', () => {
      expect(ballMoves('.b.b.....b......bb')).toEqual(2);
      // Above solved:  .b.b.b.b.b........
    })
  });

  it('should handle huuuge cases with lots of empty buckets', () => {
    expect(ballMoves('.b........................................................................b....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................b............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................b.....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................')).toEqual(3);
  })
})